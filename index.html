<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Bootstrap demo</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="container">
      <h1>Calculadora Dietética</h1>

      <form action="">
        <label for="peso" class="form-label">Peso</label>
        <div class="input-group mb-3">
          <input
            id="peso"
            type="number"
            class="form-control"
            placeholder="Peso"
            aria-label="Peso"
            aria-describedby="basic-addon2"
          />
          <span class="input-group-text" id="basic-addon2">kg</span>
        </div>
        <label for="altura" class="form-label">Altura</label>
        <div class="input-group mb-3">
          <input
            id="altura"
            type="number"
            class="form-control"
            placeholder="Altura"
            aria-label="Altura"
            aria-describedby="basic-addon2"
          />
          <span class="input-group-text" id="basic-addon2">m</span>
        </div>
        <label for="idade" class="form-label">Idade</label>
        <div class="input-group mb-3">
          <input
            id="idade"
            type="number"
            class="form-control"
            placeholder="Idade"
            aria-label="Idade"
            aria-describedby="basic-addon2"
          />
          <span class="input-group-text" id="basic-addon2">anos</span>
        </div>
        <label class="form-label">Sexo</label>
        <div>
          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="radio"
              name="sexo"
              id="sexo-masculino"
            />
            <label class="form-check-label" for="sexo-masculino">
              Masculino
            </label>
          </div>
          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="radio"
              name="sexo"
              id="sexo-feminino"
            />
            <label class="form-check-label" for="sexo-feminino">
              Feminino
            </label>
          </div>
        </div>
        <button id="calcular" type="submit" class="btn btn-primary">
          Calcular
        </button>
      </form>

      <form>
        <fieldset>
          <legend>Resultados</legend>
          <div class="mb-3 row">
            <label for="staticEmail" class="col-4 col-form-label">IMC</label>
            <div class="col-8">
              <input
                type="text"
                readonly
                class="form-control-plaintext"
                id="imc"
                value=""
              />
            </div>
            <label for="classificacao" class="col-4 col-form-label">Classificação</label>
            <div class="col-8">
              <input
                type="text"
                readonly
                class="form-control-plaintext"
                id="classificacao"
                value=""
              />
            </div>
            <label for="risco" class="col-4 col-form-label">Risco</label>
            <div class="col-8">
              <input
                type="text"
                readonly
                class="form-control-plaintext"
                id="risco"
                value=""
              />
            </div>
          </div>
        </fieldset>
      </form>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
      crossorigin="anonymous"
    ></script>
    <script>
      console.log("oi");
      const botaoCalcular = document.getElementById("calcular");
      botaoCalcular.addEventListener("click", (e) => {
        e.preventDefault();
        const peso = parseFloat(document.getElementById("peso").value);
        const altura = parseFloat(document.getElementById("altura").value);

        const imc = (peso / altura ** 2).toFixed(2);
        const imcDom = document.getElementById('imc')
        imcDom.value = `${imc} kg/m²`

        const [classificacao, risco] = getClassificacaoRisco(imc)

        const classificacaoDom = document.getElementById('classificacao')
        classificacaoDom.value = classificacao

        const riscoDom = document.getElementById('risco')
        riscoDom.value = risco ?? ''
      });

      function getClassificacaoRisco(imc) {
        if (imc < 16) return ['Magreza Grau III']
        if (imc < 16.9) return ['Magreza Grau II']
        if (imc < 18.4) return ['Magreza Grau I']
        if (imc < 24.9) return ['Eutrofia']
        if (imc < 29.9) return ['Sobrepeso', 'Aumentado']
        if (imc < 34.9) return ['Obesidade Grau I', 'Moderado']
        if (imc < 40) return ['Obesidade Grau II', 'Grave']
        return ['Obesidade Grau III', 'Muito grave']
      }
    </script>
  </body>
</html>
